<!DOCTYPE html>
<html>
  <head>
    <title>Scheds</title>
    <script>
      var nicknameHTML, lastnameHTML, schoolHTML, schoolCodeHTML, nameHTML, locationHTML, startHTML, endHTML, monHTML, tueHTML, wedHTML, thuHTML, friHTML, satHTML, addHTML, jsonHTML;

      var person = {};

      function windowLoad(){
        nicknameHTML = document.getElementById("nickname");
        lastnameHTML = document.getElementById("lastname");
        schoolHTML = document.getElementById("school");
        schoolCodeHTML = document.getElementById("schoolCode");
        locationHTML = document.getElementById("location");
        nameHTML = document.getElementById("name");
        startHTML = document.getElementById("start");
        endHTML = document.getElementById("end");
        monHTML = document.getElementById("mon");
        tueHTML = document.getElementById("tue");
        wedHTML = document.getElementById("wed");
        thuHTML = document.getElementById("thu");
        friHTML = document.getElementById("fri");
        satHTML = document.getElementById("sat");
        addHTML = document.getElementById("add");
        jsonHTML = document.getElementById("json");

        addHTML.addEventListener("mousedown", update, false);
      }

      function update(){
        person.nickname = nicknameHTML.value;
        person.lastname = lastnameHTML.value;
        person.school = schoolHTML.value;
        person.schoolCode = schoolCodeHTML.value;

        if(person.schedule == null) person.schedule = [
          [], [], [], [], [], []
        ]

        var a = ({
          name: nameHTML.value,
          location: locationHTML.value,
          start: startHTML.value,
          end: endHTML.value
        });

        var checkboxes = [monHTML, tueHTML, wedHTML, thuHTML, friHTML, satHTML];

        for(var i = 0; i < checkboxes.length; i++){
          if(checkboxes[i].checked) person.schedule[i].push(a);
        }

        jsonHTML.value = JSON.stringify(person);
      }

      window.addEventListener("load", windowLoad, false);
    </script>
  </head>
  <body>
    <table id="info">
      <tr>
        <td>Nickname</td>
        <td><input type="text" id="nickname" /></td>
      </tr>
      <tr>
        <td>Last Name</td>
        <td><input type="text" id="lastname" /></td>
      </tr>
      <tr>
        <td>School</td>
        <td><input type="text" id="school" value="Ateneo de Manila University"/></td>
      </tr>
      <tr>
        <td>School Code</td>
        <td><input type="text" id="schoolCode" value="ADMU"/></td>
      </tr>
      <tr>
        <td>Name of Agendum</td>
        <td><input type="text" id="name" /></td>
      </tr>
      <tr>
        <td>Location</td>
        <td><input type="text" id="location" /></td>
      </tr>
      <tr>
        <td>Time Start</td>
        <td><input type="text" id="start" value="0000"/></td>
      </tr>
      <tr>
        <td>Time End</td>
        <td><input type="text" id="end" value="2359"/></td>
      </tr>
      <tr>
        <td rowspan="6">Days</td>
        <td><label><input type="checkbox" id="mon" /> Monday</label></td>
      </tr>
      <tr>
        <td><label><input type="checkbox" id="tue" /> Tuesday</label></td>
      </tr>
      <tr>
        <td><label><input type="checkbox" id="wed" /> Wednesday</label></td>
      </tr>
      <tr>
        <td><label><input type="checkbox" id="thu" /> Thursday</label></td>
      </tr>
      <tr>
        <td><label><input type="checkbox" id="fri" /> Friday</label></td>
      </tr>
      <tr>
        <td><label><input type="checkbox" id="sat" /> Saturday</label></td>
      </tr>
      <tr>
        <td colspan="2"><button id="add">Add to Sched</button></td>
      </tr>
      <tr>
        <td>JSON</td>
        <td><textarea id="json"></textarea></td>
      </tr>
    </table>
  </body>
</html>
